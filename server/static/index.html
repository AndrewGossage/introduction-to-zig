<html lang="en">
    <head>
        <meta charset="utf-8" />
        <link rel="icon" type="image/svg+xml" href="/favicon.svg" />
        <link rel="stylesheet" href="/static/global.css" />

        <meta name="viewport" content="width=device-width" />
        <title>Intro 2 Zig</title>
    </head>
    <body>
        <main>
            <div class="bg"></div>
            <div class="stars"></div>
            <section class="section" id="intro">
    <div class="slide-container">
        <div class="slide">
            <div style="font-size: 2rem">Introduction to Zig 0.16</div>
            <div style="font-size: 1rem">A Tour of Zig from Hello World to Metaprogramming</div>
            <div style="max-height: 80%; overflow: auto"><div
    style="
        width: 100%;
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
        gap: 1.5rem;
        padding: 2rem;
    "
>
    <img
        src="https://ziglang.org/zig-logo-dark.svg"
        alt="Zig logo"
        style="width: 40%; max-width: 400px"
    />
    <p
        style="
            margin-top: auto;
            font-size: 1.2rem;
            text-align: left;
            max-width: 600px;
            line-height: 1.6;
            color: #d4d4d4;
        "
    >
        Zig is a general-purpose systems programming language focused on
        simplicity, performance, and safety. In this presentation we'll walk
        through the language from hello world to metaprogramming.
    </p>
    <ul
        style="
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            text-align: left;
            font-size: 1rem;
            color: #d4d4d4;
            line-height: 2;
        "
    >
        <li>Hello World</li>
        <li>Interfaces</li>
        <li>User Input</li>
        <li>C Interop</li>
        <li>HTTP Clients &amp; Servers</li>
        <li>Comptime &amp; Metaprogramming</li>
    </ul>
</div>
</div>
        </div>
        <script></script>
    </div>
</section>
<section class="section" id="bio">
    <div class="slide-container">
        <div class="slide">
            <div style="font-size: 2rem">About the Presenter</div>
            <div style="font-size: 1rem">Andrew Gossage</div>
            <div style="max-height: 80%; overflow: auto"><div
    style="
        width: 100%;
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
        gap: 1.5rem;
        padding: 2rem;
    "
>
    <p
        style="
            font-size: 1.2rem;
            text-align: left;
            max-width: 600px;
            line-height: 1.8;
            color: #d4d4d4;
        "
    >
        Lead developer at
        <a href="https://writegrader.com" style="color: #009fb7">WriteGrader</a
        >, an AI-powered learning platform that gives students formative
        feedback, practice assignments graded against their course rubrics, and
        interactive AI tutors for course content.
    </p>
    <p
        style="
            font-size: 1.2rem;
            text-align: left;
            max-width: 600px;
            line-height: 1.8;
            color: #d4d4d4;
        "
    >
        Back-end programmer specializing in business applications and data
        science. Primarily works in Typescript, but also proficient in Python,dd
        C, Zig, and other languages.
    </p>
</div>
</div>
        </div>
        <script></script>
    </div>
</section>
<section class="section" id="stack">
    <div class="slide-container">
        <div class="slide">
            <div style="font-size: 2rem">Tech Stack</div>
            <div style="font-size: 1rem">How This Presentation Is Built</div>
            <div style="max-height: 80%; overflow: auto"><div
    style="
        width: 100%;
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
        gap: 1.5rem;
        padding: 2rem;
    "
>
    <p
        style="
            font-size: 1.1rem;
            text-align: left;
            max-width: 600px;
            line-height: 1.8;
            color: #d4d4d4;
        "
    >
        This presentation is itself built with Zig. Slides are defined as
        cards in Odin, compiled to a static HTML page, and served by
        <a href="https://www.zoi-server.com" style="color: #009fb7">Zoi</a>
        &mdash; a zero-dependency HTTP server written in Zig.
    </p>
    <table
        style="
            border-collapse: collapse;
            text-align: left;
            font-size: 1rem;
            color: #d4d4d4;
            max-width: 600px;
            width: 100%;
        "
    >
        <tr style="border-bottom: 1px solid #555">
            <td style="padding: 0.6rem 1rem; color: #009fb7; font-weight: bold">Server</td>
            <td style="padding: 0.6rem 1rem">Zig 0.15 (Zoi)</td>
        </tr>
        <tr style="border-bottom: 1px solid #555">
            <td style="padding: 0.6rem 1rem; color: #009fb7; font-weight: bold">Content Generation</td>
            <td style="padding: 0.6rem 1rem">Odin</td>
        </tr>
        <tr style="border-bottom: 1px solid #555">
            <td style="padding: 0.6rem 1rem; color: #009fb7; font-weight: bold">Demo Programs</td>
            <td style="padding: 0.6rem 1rem">Zig 0.16</td>
        </tr>
        <tr style="border-bottom: 1px solid #555">
            <td style="padding: 0.6rem 1rem; color: #009fb7; font-weight: bold">Frontend</td>
            <td style="padding: 0.6rem 1rem">HTML / CSS / JS</td>
        </tr>
        <tr>
            <td style="padding: 0.6rem 1rem; color: #009fb7; font-weight: bold">Dependencies</td>
            <td style="padding: 0.6rem 1rem">None (stdlib only)</td>
        </tr>
    </table>
</div>
</div>
        </div>
        <script></script>
    </div>
</section>
<section class="section" id="hello0">
    <div class="slide-container">
        <div class="slide">
            <div style="font-size: 2rem">Hello World</div>
            <div style="font-size: 1rem">And Goodbye Sanity</div>
            <div style="max-height: 80%; overflow: auto"><div
    style="
        width: 100%;
        display: flex;
        align-items: center;
        max-height:70vh;
        overflow-auto;
        justify-content: center;
    "
>
    <div
        class="tenor-gif-embed"
        data-postid="25270037"
        data-share-method="host"
        data-aspect-ratio="1.77857"
        data-width="70%"
    ></div>
    <script
        type="text/javascript"
        async
        src="https://tenor.com/embed.js"
    ></script>
</div>
</div>
        </div>
        <script></script>
    </div>
</section>
<section class="section" id="hello">
    <div class="slide-container">
        <div class="slide">
            <div style="font-size: 2rem">Hello World</div>
            <div style="font-size: 1rem">Minimal Example</div>

            <pre
                class="code"
            ><code class="snippet" id="snippet" data-codepath="./zig/hello-01.zig">const std = @import("std");
pub fn main() !void {
    std.debug.print("Hello World!\n", .{});
}


</code></pre>
            <pre
                class="code"
                style="height: 15vh"
            ><code class="snippet results-box" id="output-hello"></code></pre>
            <button style="margin: auto; font-size: 1.3rem">Execute</button>
        </div>
        <script>
            document
                .querySelector('#hello button')
                .addEventListener('click', async function () {
                    const content = `const std = @import("std");
pub fn main() !void {
    std.debug.print("Hello World!\n", .{});
}


`;
                    let command = '';
                    document.querySelector('#output-hello').innerText = '';

                    if (content.startsWith('//')) {
                        command += content.split('\n')[0].replace('//', '');
                    } else {
                        command += 'zig run ./zig/hello-01.zig'.replace(
                            'zig/',
                            './'
                        );
                    }
                    const response = await fetch('/api/exec', {
                        method: 'POST',
                        headers: { 'Content-Type': 'application/json' },
                        body: JSON.stringify({
                            request: command,
                        }),
                    });
                    const result = await response.text();
                    document.querySelector('#output-hello').innerText =
                        '\n' +
                        result.replace(/\x1b\[[0-9;]*[a-zA-Z]/g, '').trim();
                });
        </script>
    </div>
</section>
<section class="section" id="hello00">
    <div class="slide-container">
        <div class="slide">
            <div style="font-size: 2rem">Hello World</div>
            <div style="font-size: 1rem">Correct Example</div>

            <pre
                class="code"
            ><code class="snippet" id="snippet" data-codepath="./zig/hello-02.zig">const std = @import("std");
const Io = std.Io;

pub fn main(init: std.process.Init) !void {
    const io = init.io;
    var stdout_buffer: [1024]u8 = undefined;
    var stdout_file_writer: Io.File.Writer = .init(.stdout(), io, &stdout_buffer);
    const stdout_writer = &stdout_file_writer.interface;
    try stdout_writer.print("Hello World!\n", .{});
    try stdout_writer.flush(); // Don't forget to flush!
}


</code></pre>
            <pre
                class="code"
                style="height: 15vh"
            ><code class="snippet results-box" id="output-hello00"></code></pre>
            <button style="margin: auto; font-size: 1.3rem">Execute</button>
        </div>
        <script>
            document
                .querySelector('#hello00 button')
                .addEventListener('click', async function () {
                    const content = `const std = @import("std");
const Io = std.Io;

pub fn main(init: std.process.Init) !void {
    const io = init.io;
    var stdout_buffer: [1024]u8 = undefined;
    var stdout_file_writer: Io.File.Writer = .init(.stdout(), io, &stdout_buffer);
    const stdout_writer = &stdout_file_writer.interface;
    try stdout_writer.print("Hello World!\n", .{});
    try stdout_writer.flush(); // Don't forget to flush!
}


`;
                    let command = '';
                    document.querySelector('#output-hello00').innerText = '';

                    if (content.startsWith('//')) {
                        command += content.split('\n')[0].replace('//', '');
                    } else {
                        command += 'zig run ./zig/hello-02.zig'.replace(
                            'zig/',
                            './'
                        );
                    }
                    const response = await fetch('/api/exec', {
                        method: 'POST',
                        headers: { 'Content-Type': 'application/json' },
                        body: JSON.stringify({
                            request: command,
                        }),
                    });
                    const result = await response.text();
                    document.querySelector('#output-hello00').innerText =
                        '\n' +
                        result.replace(/\x1b\[[0-9;]*[a-zA-Z]/g, '').trim();
                });
        </script>
    </div>
</section>
<section class="section" id="hello0">
    <div class="slide-container">
        <div class="slide">
            <div style="font-size: 2rem">Interfacess</div>
            <div style="font-size: 1rem">These are userful... trust me, bro!</div>
            <div style="max-height: 80%; overflow: auto"><div
    style="
        width: 100%;
        display: flex;
        align-items: center;
        max-height:70vh;
        overflow-auto;
        justify-content: center;
    "
>
    <div
        class="tenor-gif-embed"
        data-postid="462180725101108116"
        data-share-method="host"
        data-aspect-ratio="1.77857"
        data-width="70%"
    ></div>
    <script
        type="text/javascript"
        async
        src="https://tenor.com/embed.js"
    ></script>
</div>
</div>
        </div>
        <script></script>
    </div>
</section>
<section class="section" id="interface">
    <div class="slide-container">
        <div class="slide">
            <div style="font-size: 2rem">Interfaces</div>
            <div style="font-size: 1rem">vtables, vtables everywhere!</div>

            <pre
                class="code"
            ><code class="snippet" id="snippet" data-codepath="./zig/interface.zig">const std = @import("std");
const Io = std.Io;

const AnimalInterface = struct {
    writer: *std.Io.Writer,
    speak_fn: *const fn (*AnimalInterface) anyerror!void,
    pub fn speak(self: *AnimalInterface) !void {
        try self.speak_fn(self);
    }
};

const Dog = struct {
    interface: AnimalInterface,
    treats_received: i32 = 0,
    pub fn init(writer: *std.Io.Writer) Dog {
        return .{ .interface = .{
            .writer = writer,
            .speak_fn = bark,
        } };
    }
    pub fn bark(interface: *AnimalInterface) !void {
        const self: *Dog = @fieldParentPtr("interface", interface);
        try interface.writer.print("Woof! treats received: {d}\n", .{self.treats_received});
        self.treats_received += 1;
        try interface.writer.flush();
    }
};

const Cat = struct {
    interface: AnimalInterface,
    times_scared: i32 = 100,
    pub fn init(writer: *std.Io.Writer) Cat {
        return .{ .interface = .{
            .writer = writer,
            .speak_fn = meow,
        } };
    }
    pub fn meow(interface: *AnimalInterface) !void {
        const self: *Cat = @fieldParentPtr("interface", interface);
        try interface.writer.print("Meow! Times Scared: {d}\n", .{self.times_scared});
        self.times_scared += 1;
        try interface.writer.flush();
    }
};

pub fn main(init: std.process.Init) !void {
    const io = init.io;
    var stdout_buffer: [1024]u8 = undefined;
    var stdout_file_writer: Io.File.Writer = Io.File.Writer.init(.stdout(), io, &stdout_buffer);
    const stdout_writer = &stdout_file_writer.interface;
    var dog: Dog = .init(stdout_writer);
    var cat: Cat = .init(stdout_writer);
    const interfaces: [2]*AnimalInterface = .{ &dog.interface, &cat.interface };
    for (0..3) |_| {
        for (interfaces) |animal| { 
            try animal.speak();
        }
    }
}
</code></pre>
            <pre
                class="code"
                style="height: 15vh"
            ><code class="snippet results-box" id="output-interface"></code></pre>
            <button style="margin: auto; font-size: 1.3rem">Execute</button>
        </div>
        <script>
            document
                .querySelector('#interface button')
                .addEventListener('click', async function () {
                    const content = `const std = @import("std");
const Io = std.Io;

const AnimalInterface = struct {
    writer: *std.Io.Writer,
    speak_fn: *const fn (*AnimalInterface) anyerror!void,
    pub fn speak(self: *AnimalInterface) !void {
        try self.speak_fn(self);
    }
};

const Dog = struct {
    interface: AnimalInterface,
    treats_received: i32 = 0,
    pub fn init(writer: *std.Io.Writer) Dog {
        return .{ .interface = .{
            .writer = writer,
            .speak_fn = bark,
        } };
    }
    pub fn bark(interface: *AnimalInterface) !void {
        const self: *Dog = @fieldParentPtr("interface", interface);
        try interface.writer.print("Woof! treats received: {d}\n", .{self.treats_received});
        self.treats_received += 1;
        try interface.writer.flush();
    }
};

const Cat = struct {
    interface: AnimalInterface,
    times_scared: i32 = 100,
    pub fn init(writer: *std.Io.Writer) Cat {
        return .{ .interface = .{
            .writer = writer,
            .speak_fn = meow,
        } };
    }
    pub fn meow(interface: *AnimalInterface) !void {
        const self: *Cat = @fieldParentPtr("interface", interface);
        try interface.writer.print("Meow! Times Scared: {d}\n", .{self.times_scared});
        self.times_scared += 1;
        try interface.writer.flush();
    }
};

pub fn main(init: std.process.Init) !void {
    const io = init.io;
    var stdout_buffer: [1024]u8 = undefined;
    var stdout_file_writer: Io.File.Writer = Io.File.Writer.init(.stdout(), io, &stdout_buffer);
    const stdout_writer = &stdout_file_writer.interface;
    var dog: Dog = .init(stdout_writer);
    var cat: Cat = .init(stdout_writer);
    const interfaces: [2]*AnimalInterface = .{ &dog.interface, &cat.interface };
    for (0..3) |_| {
        for (interfaces) |animal| { 
            try animal.speak();
        }
    }
}
`;
                    let command = '';
                    document.querySelector('#output-interface').innerText = '';

                    if (content.startsWith('//')) {
                        command += content.split('\n')[0].replace('//', '');
                    } else {
                        command += 'zig run ./zig/interface.zig'.replace(
                            'zig/',
                            './'
                        );
                    }
                    const response = await fetch('/api/exec', {
                        method: 'POST',
                        headers: { 'Content-Type': 'application/json' },
                        body: JSON.stringify({
                            request: command,
                        }),
                    });
                    const result = await response.text();
                    document.querySelector('#output-interface').innerText =
                        '\n' +
                        result.replace(/\x1b\[[0-9;]*[a-zA-Z]/g, '').trim();
                });
        </script>
    </div>
</section>
<section class="section" id="hello0">
    <div class="slide-container">
        <div class="slide">
            <div style="font-size: 2rem">User Input</div>
            <div style="font-size: 1rem">AKA: For if your program has users</div>
            <div style="max-height: 80%; overflow: auto"><div
    style="
        width: 100%;
        display: flex;
        align-items: center;
        justify-content: center;
    "
>
    <div
        class="tenor-gif-embed"
        data-postid="11410471"
        data-share-method="host"
        data-aspect-ratio="1.77857"
        data-width="80%"
    ></div>
    <script
        type="text/javascript"
        async
        src="https://tenor.com/embed.js"
    ></script>
</div>
</div>
        </div>
        <script></script>
    </div>
</section>
<section class="section" id="hello1">
    <div class="slide-container">
        <div class="slide">
            <div style="font-size: 2rem">User Input</div>
            <div style="font-size: 1rem">Part 1</div>

            <pre
                class="code"
            ><code class="snippet" id="snippet" data-codepath="./zig/input.zig">//  echo "Andrew" | zig run input.zig
const std = @import("std");

pub fn main(init: std.process.Init) !void {
    const io = init.io;
    std.debug.print("Enter your name: ", .{});
    const allocator = init.arena.allocator();
    const stdin_buffer = try allocator.alloc(u8, 256);
    var stdin_reader = std.Io.File.stdin().reader(io, stdin_buffer);
    const stdin = &stdin_reader.interface;

    const name = try stdin.takeDelimiterExclusive('\n');
    std.debug.print("\nHello {s}\n", .{name});
}
</code></pre>
            <pre
                class="code"
                style="height: 15vh"
            ><code class="snippet results-box" id="output-hello1"></code></pre>
            <button style="margin: auto; font-size: 1.3rem">Execute</button>
        </div>
        <script>
            document
                .querySelector('#hello1 button')
                .addEventListener('click', async function () {
                    const content = `//  echo "Andrew" | zig run input.zig
const std = @import("std");

pub fn main(init: std.process.Init) !void {
    const io = init.io;
    std.debug.print("Enter your name: ", .{});
    const allocator = init.arena.allocator();
    const stdin_buffer = try allocator.alloc(u8, 256);
    var stdin_reader = std.Io.File.stdin().reader(io, stdin_buffer);
    const stdin = &stdin_reader.interface;

    const name = try stdin.takeDelimiterExclusive('\n');
    std.debug.print("\nHello {s}\n", .{name});
}
`;
                    let command = '';
                    document.querySelector('#output-hello1').innerText = '';

                    if (content.startsWith('//')) {
                        command += content.split('\n')[0].replace('//', '');
                    } else {
                        command += 'zig run ./zig/input.zig'.replace(
                            'zig/',
                            './'
                        );
                    }
                    const response = await fetch('/api/exec', {
                        method: 'POST',
                        headers: { 'Content-Type': 'application/json' },
                        body: JSON.stringify({
                            request: command,
                        }),
                    });
                    const result = await response.text();
                    document.querySelector('#output-hello1').innerText =
                        '\n' +
                        result.replace(/\x1b\[[0-9;]*[a-zA-Z]/g, '').trim();
                });
        </script>
    </div>
</section>
<section class="section" id="hello2">
    <div class="slide-container">
        <div class="slide">
            <div style="font-size: 2rem">User Input</div>
            <div style="font-size: 1rem">Part 2</div>

            <pre
                class="code"
            ><code class="snippet" id="snippet" data-codepath="./zig/input-02.zig">// echo "Andrew" | zig run input-02.zig
const std = @import("std");

pub fn main(init: std.process.Init) !void {
    const io = init.io;
    if (try std.Io.File.stdin().isTty(io)) {
        std.debug.print("Enter your name: ", .{});
    }
    var stdin_buffer: [1024]u8 = undefined;
    var stdin_reader = std.Io.File.stdin().reader(io, &stdin_buffer);
    const stdin = &stdin_reader.interface;

    const name = try stdin.takeDelimiterExclusive('\n');
    std.debug.print("\nHello {s}\n", .{name});
}
</code></pre>
            <pre
                class="code"
                style="height: 15vh"
            ><code class="snippet results-box" id="output-hello2"></code></pre>
            <button style="margin: auto; font-size: 1.3rem">Execute</button>
        </div>
        <script>
            document
                .querySelector('#hello2 button')
                .addEventListener('click', async function () {
                    const content = `// echo "Andrew" | zig run input-02.zig
const std = @import("std");

pub fn main(init: std.process.Init) !void {
    const io = init.io;
    if (try std.Io.File.stdin().isTty(io)) {
        std.debug.print("Enter your name: ", .{});
    }
    var stdin_buffer: [1024]u8 = undefined;
    var stdin_reader = std.Io.File.stdin().reader(io, &stdin_buffer);
    const stdin = &stdin_reader.interface;

    const name = try stdin.takeDelimiterExclusive('\n');
    std.debug.print("\nHello {s}\n", .{name});
}
`;
                    let command = '';
                    document.querySelector('#output-hello2').innerText = '';

                    if (content.startsWith('//')) {
                        command += content.split('\n')[0].replace('//', '');
                    } else {
                        command += 'zig run ./zig/input-02.zig'.replace(
                            'zig/',
                            './'
                        );
                    }
                    const response = await fetch('/api/exec', {
                        method: 'POST',
                        headers: { 'Content-Type': 'application/json' },
                        body: JSON.stringify({
                            request: command,
                        }),
                    });
                    const result = await response.text();
                    document.querySelector('#output-hello2').innerText =
                        '\n' +
                        result.replace(/\x1b\[[0-9;]*[a-zA-Z]/g, '').trim();
                });
        </script>
    </div>
</section>
<section class="section" id="hello3">
    <div class="slide-container">
        <div class="slide">
            <div style="font-size: 2rem">User Input</div>
            <div style="font-size: 1rem">Part 3</div>

            <pre
                class="code"
            ><code class="snippet" id="snippet" data-codepath="./zig/input-03.zig">// zig run hello-02.zig -- hello world
const std = @import("std");
const Io = std.Io;

pub fn main(init: std.process.Init) !void {
    // Prints to stderr, unbuffered, ignoring potential errors.
    std.debug.print("All your {s} are belong to us.\n", .{"codebase"});
    // This is appropriate for anything that lives as long as the process.
    const arena: std.mem.Allocator = init.arena.allocator();
    // Accessing command line arguments:
    const args = try init.minimal.args.toSlice(arena);
    for (args, 0..args.len) |arg, i| {
        if (i > 0) {
            std.log.info("{d} - {s}", .{ i, arg });
        }
    }
}
</code></pre>
            <pre
                class="code"
                style="height: 15vh"
            ><code class="snippet results-box" id="output-hello3"></code></pre>
            <button style="margin: auto; font-size: 1.3rem">Execute</button>
        </div>
        <script>
            document
                .querySelector('#hello3 button')
                .addEventListener('click', async function () {
                    const content = `// zig run hello-02.zig -- hello world
const std = @import("std");
const Io = std.Io;

pub fn main(init: std.process.Init) !void {
    // Prints to stderr, unbuffered, ignoring potential errors.
    std.debug.print("All your {s} are belong to us.\n", .{"codebase"});
    // This is appropriate for anything that lives as long as the process.
    const arena: std.mem.Allocator = init.arena.allocator();
    // Accessing command line arguments:
    const args = try init.minimal.args.toSlice(arena);
    for (args, 0..args.len) |arg, i| {
        if (i > 0) {
            std.log.info("{d} - {s}", .{ i, arg });
        }
    }
}
`;
                    let command = '';
                    document.querySelector('#output-hello3').innerText = '';

                    if (content.startsWith('//')) {
                        command += content.split('\n')[0].replace('//', '');
                    } else {
                        command += 'zig run ./zig/input-03.zig'.replace(
                            'zig/',
                            './'
                        );
                    }
                    const response = await fetch('/api/exec', {
                        method: 'POST',
                        headers: { 'Content-Type': 'application/json' },
                        body: JSON.stringify({
                            request: command,
                        }),
                    });
                    const result = await response.text();
                    document.querySelector('#output-hello3').innerText =
                        '\n' +
                        result.replace(/\x1b\[[0-9;]*[a-zA-Z]/g, '').trim();
                });
        </script>
    </div>
</section>
<section class="section" id="internet">
    <div class="slide-container">
        <div class="slide">
            <div style="font-size: 2rem">C</div>
            <div style="font-size: 1rem">AKA: The Segment At Fault</div>
            <div style="max-height: 80%; overflow: auto"><div
    style="
        width: 100%;
        display: flex;
        align-items: center;
        justify-content: center;
    "
>
    <div
        class="tenor-gif-embed"
        data-postid="9042914427031135466"
        data-share-method="host"
        data-aspect-ratio="1.77857"
        data-width="80%"
    ></div>
    <script
        type="text/javascript"
        async
        src="https://tenor.com/embed.js"
    ></script>
</div>
</div>
        </div>
        <script></script>
    </div>
</section>
<section class="section" id="linking-c">
    <div class="slide-container">
        <div class="slide">
            <div style="font-size: 2rem">C</div>
            <div style="font-size: 1rem">part 1</div>

            <pre
                class="code"
            ><code class="snippet" id="snippet" data-codepath="./zig/c.zig">// zig run c.zig -lc
const c = @cImport({
    @cInclude("stdio.h");
});

pub fn main() void {
    _ = c.printf("Hello %s %d\n", "world", @as(i8, 4));
}



</code></pre>
            <pre
                class="code"
                style="height: 15vh"
            ><code class="snippet results-box" id="output-linking-c"></code></pre>
            <button style="margin: auto; font-size: 1.3rem">Execute</button>
        </div>
        <script>
            document
                .querySelector('#linking-c button')
                .addEventListener('click', async function () {
                    const content = `// zig run c.zig -lc
const c = @cImport({
    @cInclude("stdio.h");
});

pub fn main() void {
    _ = c.printf("Hello %s %d\n", "world", @as(i8, 4));
}



`;
                    let command = '';
                    document.querySelector('#output-linking-c').innerText = '';

                    if (content.startsWith('//')) {
                        command += content.split('\n')[0].replace('//', '');
                    } else {
                        command += 'zig run ./zig/c.zig'.replace(
                            'zig/',
                            './'
                        );
                    }
                    const response = await fetch('/api/exec', {
                        method: 'POST',
                        headers: { 'Content-Type': 'application/json' },
                        body: JSON.stringify({
                            request: command,
                        }),
                    });
                    const result = await response.text();
                    document.querySelector('#output-linking-c').innerText =
                        '\n' +
                        result.replace(/\x1b\[[0-9;]*[a-zA-Z]/g, '').trim();
                });
        </script>
    </div>
</section>
<section class="section" id="linking-c2">
    <div class="slide-container">
        <div class="slide">
            <div style="font-size: 2rem">C</div>
            <div style="font-size: 1rem">part 2</div>

            <pre
                class="code"
            ><code class="snippet" id="snippet" data-codepath="./zig/c-02.zig">// zig build-obj c-02.zig && zig cc -o program zig.c c-02.o && ./program
export fn add(a: c_int, b: c_int) c_int {
    return a + b;
}


// zig.c
// #include <stdio.h>
//
// extern int add(int a, int b);
//
// int main(void) {
//     printf("Hello, World!\n");
//     int result = add(5, 3);
//     printf("5 + 3 = %d\n", result);
//     return 0;
// }
</code></pre>
            <pre
                class="code"
                style="height: 15vh"
            ><code class="snippet results-box" id="output-linking-c2"></code></pre>
            <button style="margin: auto; font-size: 1.3rem">Execute</button>
        </div>
        <script>
            document
                .querySelector('#linking-c2 button')
                .addEventListener('click', async function () {
                    const content = `// zig build-obj c-02.zig && zig cc -o program zig.c c-02.o && ./program
export fn add(a: c_int, b: c_int) c_int {
    return a + b;
}


// zig.c
// #include <stdio.h>
//
// extern int add(int a, int b);
//
// int main(void) {
//     printf("Hello, World!\n");
//     int result = add(5, 3);
//     printf("5 + 3 = %d\n", result);
//     return 0;
// }
`;
                    let command = '';
                    document.querySelector('#output-linking-c2').innerText = '';

                    if (content.startsWith('//')) {
                        command += content.split('\n')[0].replace('//', '');
                    } else {
                        command += 'zig run ./zig/c-02.zig'.replace(
                            'zig/',
                            './'
                        );
                    }
                    const response = await fetch('/api/exec', {
                        method: 'POST',
                        headers: { 'Content-Type': 'application/json' },
                        body: JSON.stringify({
                            request: command,
                        }),
                    });
                    const result = await response.text();
                    document.querySelector('#output-linking-c2').innerText =
                        '\n' +
                        result.replace(/\x1b\[[0-9;]*[a-zA-Z]/g, '').trim();
                });
        </script>
    </div>
</section>
<section class="section" id="internet">
    <div class="slide-container">
        <div class="slide">
            <div style="font-size: 2rem">Welcome to The Internet</div>
            <div style="font-size: 1rem">Clients and Servers</div>
            <div style="max-height: 80%; overflow: auto"><div
    style="
        width: 100%;
        display: flex;
        align-items: center;
        justify-content: center;
    "
>
    <div
        class="tenor-gif-embed"
        data-postid="13460028857668690919"
        data-share-method="host"
        data-aspect-ratio="1.77857"
        data-width="80%"
    ></div>
    <script
        type="text/javascript"
        async
        src="https://tenor.com/embed.js"
    ></script>
</div>
</div>
        </div>
        <script></script>
    </div>
</section>
<section class="section" id="web-server">
    <div class="slide-container">
        <div class="slide">
            <div style="font-size: 2rem">Welcome to The Internet</div>
            <div style="font-size: 1rem">Server</div>

            <pre
                class="code"
            ><code class="snippet" id="snippet" data-codepath="./zig/server.zig">//kill $(lsof -i TCP:8082 | awk 'NR==2 {print $2}') 2>/dev/null;  zig run server.zig & echo "listening on port 8082"

const std = @import("std");

pub fn main(init: std.process.Init) !void {
    try listen( init.io);
}

fn listen(io: std.Io) !void {
    const addr: std.Io.net.IpAddress = try .resolve(io, "127.0.0.1", 8082);
    var tcp_server = try addr.listen(io, .{});
    var recv_buffer: [1024]u8 = undefined;
    var send_buffer: [1024]u8 = undefined;
    while (true) {
        var stream = try tcp_server.accept(io);
        var connection_reader = stream.reader(io, &recv_buffer);
        var connection_writer = stream.writer(io, &send_buffer);
        var server: std.http.Server = .init(&connection_reader.interface, &connection_writer.interface);
        var request = try server.receiveHead();
        const header: std.http.Header = .{ .name = "Content-Type", .value = "application/json" };
        try request.respond("{\"message\":\"success\"}", .{ .extra_headers = &.{header} });
    }
    return;
}
</code></pre>
            <pre
                class="code"
                style="height: 15vh"
            ><code class="snippet results-box" id="output-web-server"></code></pre>
            <button style="margin: auto; font-size: 1.3rem">Execute</button>
        </div>
        <script>
            document
                .querySelector('#web-server button')
                .addEventListener('click', async function () {
                    const content = `//kill $(lsof -i TCP:8082 | awk 'NR==2 {print $2}') 2>/dev/null;  zig run server.zig & echo "listening on port 8082"

const std = @import("std");

pub fn main(init: std.process.Init) !void {
    try listen( init.io);
}

fn listen(io: std.Io) !void {
    const addr: std.Io.net.IpAddress = try .resolve(io, "127.0.0.1", 8082);
    var tcp_server = try addr.listen(io, .{});
    var recv_buffer: [1024]u8 = undefined;
    var send_buffer: [1024]u8 = undefined;
    while (true) {
        var stream = try tcp_server.accept(io);
        var connection_reader = stream.reader(io, &recv_buffer);
        var connection_writer = stream.writer(io, &send_buffer);
        var server: std.http.Server = .init(&connection_reader.interface, &connection_writer.interface);
        var request = try server.receiveHead();
        const header: std.http.Header = .{ .name = "Content-Type", .value = "application/json" };
        try request.respond("{\"message\":\"success\"}", .{ .extra_headers = &.{header} });
    }
    return;
}
`;
                    let command = '';
                    document.querySelector('#output-web-server').innerText = '';

                    if (content.startsWith('//')) {
                        command += content.split('\n')[0].replace('//', '');
                    } else {
                        command += 'zig run ./zig/server.zig'.replace(
                            'zig/',
                            './'
                        );
                    }
                    const response = await fetch('/api/exec', {
                        method: 'POST',
                        headers: { 'Content-Type': 'application/json' },
                        body: JSON.stringify({
                            request: command,
                        }),
                    });
                    const result = await response.text();
                    document.querySelector('#output-web-server').innerText =
                        '\n' +
                        result.replace(/\x1b\[[0-9;]*[a-zA-Z]/g, '').trim();
                });
        </script>
    </div>
</section>
<section class="section" id="web-client">
    <div class="slide-container">
        <div class="slide">
            <div style="font-size: 2rem">Welcome to The Internet</div>
            <div style="font-size: 1rem">Client</div>

            <pre
                class="code"
            ><code class="snippet" id="snippet" data-codepath="./zig/client.zig">const std = @import("std");

pub fn main(init: std.process.Init) !void {
    var arena = init.arena;
    defer _ = arena.reset(.free_all);
    const allocator = arena.allocator();
    const resp = try fetch(allocator, init.io, "http://127.0.0.1:8082");
    std.debug.print("{s}\n", .{resp});
}


fn fetch(allocator: std.mem.Allocator, io: std.Io, path: []const u8) ![]const u8 {
    
    var client: std.http.Client = .{
        .allocator = allocator,
        .io = io,
        .now = try std.Io.Clock.real.now(io),
    };

    try client.ca_bundle.rescan(client.allocator, io, client.now.?);
    defer client.deinit();
    
    var result_body = std.Io.Writer.Allocating.init(allocator);
    defer result_body.deinit();
    
    const response = try client.fetch(.{
        .location = .{ .url = path },
        .method = .GET, // get is default 
        .response_writer = &result_body.writer,
    });
    
    if (response.status.class() != .success) {
        return error.HttpRequestFailed;
    }
    
    return try allocator.dupe(u8, result_body.written());
}


</code></pre>
            <pre
                class="code"
                style="height: 15vh"
            ><code class="snippet results-box" id="output-web-client"></code></pre>
            <button style="margin: auto; font-size: 1.3rem">Execute</button>
        </div>
        <script>
            document
                .querySelector('#web-client button')
                .addEventListener('click', async function () {
                    const content = `const std = @import("std");

pub fn main(init: std.process.Init) !void {
    var arena = init.arena;
    defer _ = arena.reset(.free_all);
    const allocator = arena.allocator();
    const resp = try fetch(allocator, init.io, "http://127.0.0.1:8082");
    std.debug.print("{s}\n", .{resp});
}


fn fetch(allocator: std.mem.Allocator, io: std.Io, path: []const u8) ![]const u8 {
    
    var client: std.http.Client = .{
        .allocator = allocator,
        .io = io,
        .now = try std.Io.Clock.real.now(io),
    };

    try client.ca_bundle.rescan(client.allocator, io, client.now.?);
    defer client.deinit();
    
    var result_body = std.Io.Writer.Allocating.init(allocator);
    defer result_body.deinit();
    
    const response = try client.fetch(.{
        .location = .{ .url = path },
        .method = .GET, // get is default 
        .response_writer = &result_body.writer,
    });
    
    if (response.status.class() != .success) {
        return error.HttpRequestFailed;
    }
    
    return try allocator.dupe(u8, result_body.written());
}


`;
                    let command = '';
                    document.querySelector('#output-web-client').innerText = '';

                    if (content.startsWith('//')) {
                        command += content.split('\n')[0].replace('//', '');
                    } else {
                        command += 'zig run ./zig/client.zig'.replace(
                            'zig/',
                            './'
                        );
                    }
                    const response = await fetch('/api/exec', {
                        method: 'POST',
                        headers: { 'Content-Type': 'application/json' },
                        body: JSON.stringify({
                            request: command,
                        }),
                    });
                    const result = await response.text();
                    document.querySelector('#output-web-client').innerText =
                        '\n' +
                        result.replace(/\x1b\[[0-9;]*[a-zA-Z]/g, '').trim();
                });
        </script>
    </div>
</section>
<section class="section" id="Advanced">
    <div class="slide-container">
        <div class="slide">
            <div style="font-size: 2rem">Advanced Topics</div>
            <div style="font-size: 1rem">AKA: How to make consts and influence vars</div>
            <div style="max-height: 80%; overflow: auto"><div
    style="
        width: 100%;
        display: flex;
        align-items: center;
        justify-content: center;
    "
>
    <div
        class="tenor-gif-embed"
        data-postid="25012205"
        data-share-method="host"
        data-aspect-ratio="1.77857"
        data-width="70%"
    ></div>
    <script
        type="text/javascript"
        async
        src="https://tenor.com/embed.js"
    ></script>
</div>
</div>
        </div>
        <script></script>
    </div>
</section>
<section class="section" id="meta">
    <div class="slide-container">
        <div class="slide">
            <div style="font-size: 2rem">Meta Programming</div>
            <div style="font-size: 1rem">Comptime Magic</div>

            <pre
                class="code"
            ><code class="snippet" id="snippet" data-codepath="./zig/meta-01.zig">const std = @import("std");

pub fn main() !void {
    gen_ts(Bar);
}

const Bar = struct {
    first: i32,
    second: []const u8,
    third: bool,
};

pub fn gen_ts(T: type) void {
    const name: [@typeName(T).len]u8 = convert_name(T);
    std.debug.print("interface {s} {{\n", .{name});
    inline for (@typeInfo(T).@"struct".fields) |field| {
        std.debug.print("    {s}: {s};\n", .{ field.name, convert_type(field.type) });
    }
    std.debug.print("}};\n", .{});
}

inline fn convert_type(comptime T: type) []const u8 {
    return switch (@typeInfo(T)) {
        .@"struct" => &convert_name(T),
        .int, .float => "number",
        .bool => "boolean",
        .pointer => |ptr_info| if (ptr_info.child == u8) "string" else "any[]",
        else => @compileError("Unsupported type"),
    };
}

inline fn convert_name(comptime T: type) [@typeName(T).len]u8 {
    const tn = @typeName(T);
    var name: [@typeName(T).len]u8 = undefined;
    inline for (0..name.len) |i| {
        if (tn[i] == '.' or tn[i] == '-') {
            name[i] = '_';
        } else {
            name[i] = tn[i];
        }
    }
    return name;
}





</code></pre>
            <pre
                class="code"
                style="height: 15vh"
            ><code class="snippet results-box" id="output-meta"></code></pre>
            <button style="margin: auto; font-size: 1.3rem">Execute</button>
        </div>
        <script>
            document
                .querySelector('#meta button')
                .addEventListener('click', async function () {
                    const content = `const std = @import("std");

pub fn main() !void {
    gen_ts(Bar);
}

const Bar = struct {
    first: i32,
    second: []const u8,
    third: bool,
};

pub fn gen_ts(T: type) void {
    const name: [@typeName(T).len]u8 = convert_name(T);
    std.debug.print("interface {s} {{\n", .{name});
    inline for (@typeInfo(T).@"struct".fields) |field| {
        std.debug.print("    {s}: {s};\n", .{ field.name, convert_type(field.type) });
    }
    std.debug.print("}};\n", .{});
}

inline fn convert_type(comptime T: type) []const u8 {
    return switch (@typeInfo(T)) {
        .@"struct" => &convert_name(T),
        .int, .float => "number",
        .bool => "boolean",
        .pointer => |ptr_info| if (ptr_info.child == u8) "string" else "any[]",
        else => @compileError("Unsupported type"),
    };
}

inline fn convert_name(comptime T: type) [@typeName(T).len]u8 {
    const tn = @typeName(T);
    var name: [@typeName(T).len]u8 = undefined;
    inline for (0..name.len) |i| {
        if (tn[i] == '.' or tn[i] == '-') {
            name[i] = '_';
        } else {
            name[i] = tn[i];
        }
    }
    return name;
}





`;
                    let command = '';
                    document.querySelector('#output-meta').innerText = '';

                    if (content.startsWith('//')) {
                        command += content.split('\n')[0].replace('//', '');
                    } else {
                        command += 'zig run ./zig/meta-01.zig'.replace(
                            'zig/',
                            './'
                        );
                    }
                    const response = await fetch('/api/exec', {
                        method: 'POST',
                        headers: { 'Content-Type': 'application/json' },
                        body: JSON.stringify({
                            request: command,
                        }),
                    });
                    const result = await response.text();
                    document.querySelector('#output-meta').innerText =
                        '\n' +
                        result.replace(/\x1b\[[0-9;]*[a-zA-Z]/g, '').trim();
                });
        </script>
    </div>
</section>
<section class="section" id="builtin">
    <div class="slide-container">
        <div class="slide">
            <div style="font-size: 2rem">Builtin</div>
            <div style="font-size: 1rem">I heard you like meta programming</div>

            <pre
                class="code"
            ><code class="snippet" id="snippet" data-codepath="./zig/builtin-01.zig">//  zig run builtin-01.zig  && zig run builtin-01.zig -O ReleaseFast
const std = @import("std");
const builtin = @import("builtin");

pub fn main() !void {
    debug("Hello {t}-{t}!\n", .{builtin.target.os.tag, builtin.target.cpu.arch});
    debug("Zig Version {s}\n\n", .{builtin.zig_version_string });
}

fn debug(comptime fmt: []const u8, args: anytype) void {
    if (builtin.mode == .Debug){
        std.debug.print(fmt, args);
    } else {
        std.debug.print("No debug for you! \n", .{});
    }
}


</code></pre>
            <pre
                class="code"
                style="height: 15vh"
            ><code class="snippet results-box" id="output-builtin"></code></pre>
            <button style="margin: auto; font-size: 1.3rem">Execute</button>
        </div>
        <script>
            document
                .querySelector('#builtin button')
                .addEventListener('click', async function () {
                    const content = `//  zig run builtin-01.zig  && zig run builtin-01.zig -O ReleaseFast
const std = @import("std");
const builtin = @import("builtin");

pub fn main() !void {
    debug("Hello {t}-{t}!\n", .{builtin.target.os.tag, builtin.target.cpu.arch});
    debug("Zig Version {s}\n\n", .{builtin.zig_version_string });
}

fn debug(comptime fmt: []const u8, args: anytype) void {
    if (builtin.mode == .Debug){
        std.debug.print(fmt, args);
    } else {
        std.debug.print("No debug for you! \n", .{});
    }
}


`;
                    let command = '';
                    document.querySelector('#output-builtin').innerText = '';

                    if (content.startsWith('//')) {
                        command += content.split('\n')[0].replace('//', '');
                    } else {
                        command += 'zig run ./zig/builtin-01.zig'.replace(
                            'zig/',
                            './'
                        );
                    }
                    const response = await fetch('/api/exec', {
                        method: 'POST',
                        headers: { 'Content-Type': 'application/json' },
                        body: JSON.stringify({
                            request: command,
                        }),
                    });
                    const result = await response.text();
                    document.querySelector('#output-builtin').innerText =
                        '\n' +
                        result.replace(/\x1b\[[0-9;]*[a-zA-Z]/g, '').trim();
                });
        </script>
    </div>
</section>

        </main>

        <script src="/static/highlight.js"></script>
        <script>
            (async () => {
                let lastModified = await (await fetch('/modified')).json();
                setInterval(async () => {
                    console.log('checking for changes');
                    let currentModified = await (
                        await fetch('/modified')
                    ).json();
                    if (currentModified.value !== lastModified.value) {
                        location.reload();
                    }
                    lastModified = currentModified;
                }, 3000);
            })();
        </script>
    </body>
</html>

